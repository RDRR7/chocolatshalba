<div class="container">
  <div class="row">
    <div class="col m12">
      <div class="card">
        <div class="card-content">
          <div class="page-header">
            <h1>Trazabilidad</h1>
          </div>
          <input type="text" id="oNameCode" onkeyup="filterTable()" placeholder="Busque lote...">
          <table id="oTable" class="striped bordered">
            <thead>
              <tr>
                <th>CÃ³digo de lote</th>
                <th>Proveedor</th>
              </tr>
            </thead>
            <tbody>
              <% @batches.each do |batch| %>
                <tr>
                  <td><%= batch.enterCode %></td>
                  <td><%= batch.entry_control.organization.name %></td>
                  <td><%=	link_to "Ver", batch %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function filterTable() {
  var input,
    filter,
    table,
    tr,
    td,
    i,
    j,
    f;
  input = document.getElementById("oNameCode");
  filter = input.value.toUpperCase();
  table = document.getElementById("oTable");
  tr = table.getElementsByTagName("tr");
  f = true;
  for (j = 0; j < 2; j++) {
    if (f) {
      for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[j];
        if (td) {
          if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
            f = false;
          } else {
            tr[i].style.display = "none";
          }
        }
      }
    }
  }
}
</script>